<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><title>DeepLearningQt-ReadingDocuments1 | Hello World!</title><meta name="author" content="Charlie Chen"><meta name="copyright" content="Charlie Chen"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="​        写在前面：这是阅读英文文档+我翻译+我阅读资料的博客，目的是为了浏览并通读基本的 QT常用类型！ Qt深入理解 QString​        QString的内容是QCore下的 C++类的一个子类。想要使用它和相关的API函数，请务必： Header:  #include &lt;QString&gt;  CMake: find_package(Qt6 REQUIRED CO">
<meta property="og:type" content="article">
<meta property="og:title" content="DeepLearningQt-ReadingDocuments1">
<meta property="og:url" content="http://charliechen114514.github.io/2023/06/07/DeepLearningQt-ReadingDocuments1/index.html">
<meta property="og:site_name" content="Hello World!">
<meta property="og:description" content="​        写在前面：这是阅读英文文档+我翻译+我阅读资料的博客，目的是为了浏览并通读基本的 QT常用类型！ Qt深入理解 QString​        QString的内容是QCore下的 C++类的一个子类。想要使用它和相关的API函数，请务必： Header:  #include &lt;QString&gt;  CMake: find_package(Qt6 REQUIRED CO">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://charliechen114514.github.io/img/passagepage.png">
<meta property="article:published_time" content="2023-06-07T03:29:02.000Z">
<meta property="article:modified_time" content="2023-06-10T05:51:09.805Z">
<meta property="article:author" content="Charlie Chen">
<meta property="article:tag" content="C&#x2F;C++">
<meta property="article:tag" content="Qt">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://charliechen114514.github.io/img/passagepage.png"><link rel="shortcut icon" href="/img/webicon.png"><link rel="canonical" href="http://charliechen114514.github.io/2023/06/07/DeepLearningQt-ReadingDocuments1/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'DeepLearningQt-ReadingDocuments1',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-06-10 13:51:09'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = url => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      link.onload = () => resolve()
      link.onerror = () => reject()
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/webicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">75</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">32</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 大爹们</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/passagepage.png')"><nav id="nav"><span id="blog-info"><a href="/" title="Hello World!"><span class="site-name">Hello World!</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 大爹们</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">DeepLearningQt-ReadingDocuments1</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-07T03:29:02.000Z" title="发表于 2023-06-07 11:29:02">2023-06-07</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-06-10T05:51:09.805Z" title="更新于 2023-06-10 13:51:09">2023-06-10</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>24分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="DeepLearningQt-ReadingDocuments1"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>​        写在前面：这是阅读英文文档+我翻译+我阅读资料的博客，目的是为了浏览并通读基本的 QT常用类型！</p>
<h1 id="Qt深入理解-QString"><a href="#Qt深入理解-QString" class="headerlink" title="Qt深入理解 QString"></a>Qt深入理解 QString</h1><p>​        QString的内容是QCore下的 C++类的一个子类。想要使用它和相关的API函数，请务必：</p>
<pre class="line-numbers language-none"><code class="language-none">Header:  #include &lt;QString&gt;
 CMake: find_package(Qt6 REQUIRED COMPONENTS Core) 
target_link_libraries(mytarget PRIVATE Qt6::Core)
 qmake: QT +&#x3D; core<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<div class="table-container">
<table>
<thead>
<tr>
<th>MakeFileplatform</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>#include</code></td>
<td><code>#include &lt;QString&gt;</code></td>
</tr>
<tr>
<td><code>Cmake</code></td>
<td><code>find_package(Qt6 REQUIRED COMPONENTS Core) target_link_libraries(mytarget PRIVATE Qt6::Core)</code></td>
</tr>
<tr>
<td><code>qmake</code></td>
<td><code>QT += core</code></td>
</tr>
</tbody>
</table>
</div>
<p><img src="image-20230606194623400.png" alt="image-20230606194623400"></p>
<p>​        在<code>QString</code>下，允许访问的类型如下：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>num</th>
<th>Types</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>ConstIterator</code></td>
</tr>
<tr>
<td>2</td>
<td><code>Iterator</code></td>
</tr>
<tr>
<td>3</td>
<td><code>enum NormalizationForm &#123; NormalizationForm_D, NormalizationForm_C, NormalizationForm_KD, NormalizationForm_KC &#125;</code></td>
</tr>
<tr>
<td>4</td>
<td><code>enum SectionFlag &#123; SectionDefault, SectionSkipEmpty, SectionIncludeLeadingSep, SectionIncludeTrailingSep, SectionCaseInsensitiveSeps &#125;</code></td>
</tr>
<tr>
<td>5</td>
<td><code>flags SectionFlags</code></td>
</tr>
<tr>
<td>6</td>
<td><code>const_iterator</code></td>
</tr>
<tr>
<td>7</td>
<td><code>const_pointer</code></td>
</tr>
<tr>
<td>8</td>
<td><code>const_reference</code></td>
</tr>
<tr>
<td>9</td>
<td><code>const_reverse_iterator</code></td>
</tr>
<tr>
<td>10</td>
<td><code>difference_type</code></td>
</tr>
<tr>
<td>11</td>
<td><code>iterator</code></td>
</tr>
<tr>
<td>12</td>
<td><code>pointer</code></td>
</tr>
<tr>
<td>13</td>
<td><code>reference</code></td>
</tr>
<tr>
<td>14</td>
<td><code>reverse_iterator</code></td>
</tr>
<tr>
<td>15</td>
<td><code>size_type</code></td>
</tr>
<tr>
<td>16</td>
<td><code>value_type</code></td>
</tr>
</tbody>
</table>
</div>
<p> 方便起见，我们顺序往下，遇到就阐述：            |</p>
<h2 id="构造函数"><a href="#构造函数" class="headerlink" title="构造函数"></a>构造函数</h2><div class="table-container">
<table>
<thead>
<tr>
<th>API</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>QString()</code></td>
</tr>
<tr>
<td><code>QString(const QChar *unicode, qsizetype size = -1)</code></td>
</tr>
<tr>
<td><code>QString(QChar ch)</code></td>
</tr>
<tr>
<td><code>QString(qsizetype size, QChar ch)</code></td>
</tr>
<tr>
<td><code>QString(QLatin1StringView str)</code></td>
</tr>
<tr>
<td><code>QString(const int *str)</code></td>
</tr>
<tr>
<td><code>QString(const char *str)</code></td>
</tr>
<tr>
<td><code>QString(const QByteArray &amp;ba)</code></td>
</tr>
<tr>
<td><code>QString(const QString &amp;other)</code></td>
</tr>
<tr>
<td><code>QString(QString &amp;&amp;other)</code></td>
</tr>
<tr>
<td><code>~QString()</code></td>
</tr>
</tbody>
</table>
</div>
<p>​    1.</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">constexpr QString::QString() noexcept<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">Constructs a null string. Null strings are also considered empty.
See also isEmpty(), isNull(), and Distinction Between Null and Empty Strings.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>​        也就是说，默认构造一个空的字符串！</p>
<p>2.</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString::QString(const QChar *unicode, qsizetype size &#x3D; -1)explicit<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">Constructs a string initialized with the first size characters of the QChar array unicode.
If unicode is 0, a null string is constructed.
If size is negative, unicode is assumed to point to a \0&#39;-terminated array and its length is determined dynamically. The terminating null character is not considered part of the string.
QString makes a deep copy of the string data. The unicode data is copied as is and the Byte Order Mark is preserved if present.
See also fromRawData().<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​        也就是说：构造一个用QChar数组unicode的第一个大小字符初始化的字符串。<strong>如果unicode为0，则构造一个空字符串。如果大小为负数，则假定unicode指向一个以\0’结尾的数组，并且其长度是动态确定的。终止的null字符不被视为字符串的一部分。QString对字符串数据进行深拷贝。unicode数据按原样复制，如果存在，则保留字节顺序标记。</strong></p>
<p>3.</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString::QString(QChar ch)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">Constructs a string of size 1 containing the character ch.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        构造一个只含有一个字符的字符串</p>
<p>4.</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString::QString(qsizetype size, QChar ch)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">Constructs a string of the given size with every character set to ch.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        构造一个只含有N个相同字符的字符串</p>
<p>5.</p>
<pre class="line-numbers language-none"><code class="language-none">QString::QString(QLatin1StringView str); <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">Constructs a copy of the Latin-1 string viewed by str.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="【QT】QLatin1String类的说明-补充"><a href="#【QT】QLatin1String类的说明-补充" class="headerlink" title="【QT】QLatin1String类的说明(补充)"></a>【QT】QLatin1String类的说明(补充)</h4><p>​        <code>QLatin1String</code>类对<code>US-ASCII/Latin-1编码</code>的字符串进行了简单封装，可理解为<code>关于const char*的一个浅封装</code>。</p>
<p>​        许多<code>QString</code>的成员函数都用<code>const char*</code>代替<code>QString</code>作为参数实现重载。这包含<strong>拷贝构造函数</strong>，<strong>赋值操作</strong>，<strong>比较操作</strong>和其他不同的函数，比如<code>insert()</code>, <code>replace(),</code> <code>indexOf()</code>. 这些函数都做了<strong>优化</strong>以避免在函数调用时从<code>const char*</code>中构造一个<code>QString</code>对象。例如，假定str是<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=QString&amp;spm=1001.2101.3001.7020">QString</a>对象，</p>
<p>i</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token function">f</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token string">"auto"</span> <span class="token operator">||</span> str <span class="token operator">==</span> <span class="token string">"extern"</span>
        <span class="token operator">||</span> str <span class="token operator">==</span> <span class="token string">"static"</span> <span class="token operator">||</span> str <span class="token operator">==</span> <span class="token string">"register"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">&#125;</span>
<span class="token number">1234</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​        <strong>上面的代码执行会比下面的代码执行快很多</strong></p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"auto"</span><span class="token punctuation">)</span> <span class="token operator">||</span> str <span class="token operator">==</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"extern"</span><span class="token punctuation">)</span>
        <span class="token operator">||</span> str <span class="token operator">==</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"static"</span><span class="token punctuation">)</span> <span class="token operator">||</span> str <span class="token operator">==</span> <span class="token function">QString</span><span class="token punctuation">(</span><span class="token string">"register"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">&#125;</span>
<span class="token number">1234</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​        因为在第二部分的代码中会构造<code>四个临时的QString对象</code>，并复制字符串中的值。</p>
<p>​        在程序中定义了<code>QT_NO_CAST_FROM_ASCII</code>的应用程序是无法使用QString的<code>const char*</code>相关的API函数，因此Qt提供了<strong>QLatin1String类来更高效的利用const char*的类型</strong>，它就是一个关于const char*的一个浅封装。如果利用QLatin1String类来写上述的程序就是</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp"><span class="token keyword">if</span> <span class="token punctuation">(</span>str <span class="token operator">==</span> <span class="token function">QLatin1String</span><span class="token punctuation">(</span><span class="token string">"auto"</span><span class="token punctuation">)</span>
        <span class="token operator">||</span> str <span class="token operator">==</span> <span class="token function">QLatin1String</span><span class="token punctuation">(</span><span class="token string">"extern"</span><span class="token punctuation">)</span>
        <span class="token operator">||</span> str <span class="token operator">==</span> <span class="token function">QLatin1String</span><span class="token punctuation">(</span><span class="token string">"static"</span><span class="token punctuation">)</span>
        <span class="token operator">||</span> str <span class="token operator">==</span> <span class="token function">QLatin1String</span><span class="token punctuation">(</span><span class="token string">"register"</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">&#125;</span>
<span class="token number">123456</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​        虽然在代码输入的时候有点长，但是它的执行效率和上面第一段的代码一样，同时也比使用<code>QString::fromLatin1()</code>转换来的快。</p>
<p>​        得益于<code>QString(const QLatin1String&amp;)</code>这个构造函数，QLatin1String可以在任何需要QString对象的地方使用，比如：</p>
<pre class="line-numbers language-cpp" data-language="cpp"><code class="language-cpp">QLabel <span class="token operator">*</span>label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">QLabel</span><span class="token punctuation">(</span><span class="token function">QLatin1String</span><span class="token punctuation">(</span><span class="token string">"MOD"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<hr>
<p>​        <strong>QString str = “hello” 报错:</strong></p>
<p>​        在程序中定义了<code>QT_NO_CAST_FROM_ASCII</code>的应用程序是无法使用QString的const char<em>相关的API函数，因此Qt提供了QLatin1String类来更高效的利用const char</em>的类型，它就是一个关于const char*的一个浅封装。</p>
<ol>
<li><pre class="line-numbers language-none"><code class="language-none">QString::QString(const int *str)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
</ol>
<pre class="line-numbers language-none"><code class="language-none">Constructs a string initialized with the UTF-8 string str. The given const char8_t pointer is converted to Unicode using the fromUtf8() function.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>7.</p>
<pre class="line-numbers language-none"><code class="language-none">QString::QString(const char *str)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">Constructs a string initialized with the 8-bit string str. The given const char pointer is converted to Unicode using the fromUtf8() function.
You can disable this constructor by defining QT_NO_CAST_FROM_ASCII when you compile your applications. This can be useful if you want to ensure that all user-visible strings go through QObject::tr(), for example.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>​        构造一个用8位字符串str初始化的字符串。给定的<code>const char</code>指针使用<code>fromUtf8（）</code>函数转换为<code>Unicode</code>。</p>
<p>​        在编译应用程序时，可以通过定义<code>QT_NO_CAST_FROM_ASII</code>来禁用此构造函数。例如，如果您想确保所有用户可见的字符串都通过<code>QObject::tr()</code>，这可能很有用。</p>
<pre class="line-numbers language-none"><code class="language-none">Note: Defining QT_RESTRICTED_CAST_FROM_ASCII also disables this constructor, but enables a QString(const char (&amp;ch)[N]) constructor instead. Using non-literal input, or input with embedded NUL characters, or non-7-bit characters is undefined in this case.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">注意：定义QT_RESTRICTED_CAST_FROM_ASICI也会禁用此构造函数，但会启用QString（const-char（.ch）[N]）构造函数。在这种情况下，使用非文字输入、嵌入NUL字符的输入或非7位字符是未定义的。<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>8.</p>
<pre class="line-numbers language-none"><code class="language-none">QString::QString(const QByteArray &amp;ba)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">Constructs a string initialized with the byte array ba. The given byte array is converted to Unicode using fromUtf8().
You can disable this constructor by defining QT_NO_CAST_FROM_ASCII when you compile your applications. This can be useful if you want to ensure that all user-visible strings go through QObject::tr(), for example.

Note: : any null (&#39;\0&#39;) bytes in the byte array will be included in this string, converted to Unicode null characters (U+0000). This behavior is different from Qt 5.x.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>​        构造一个用字节数组ba初始化的字符串。给定的字节数组使用fromUtf8（）转换为Unicode。<br>​        在编译应用程序时，可以通过定义QT_NO_CAST_FROM_ASII来禁用此构造函数。例如，如果您想确保所有用户可见的字符串都通过QObject:：tr（），这可能很有用。<br>​        <strong>注意：字节数组中的任何null（’\0’）字节都将包含在此字符串中，并转换为Unicode null字符（U+0000）。这种行为与Qt 5.x不同。</strong></p>
<p>9.</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString::QString(const QString &amp;other)noexcept;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">Constructs a copy of other.
This operation takes constant time, because QString is implicitly shared. This makes returning a QString from a function very fast. If a shared instance is modified, it will be copied (copy-on-write), and that takes linear time.
See also operator&#x3D;().<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>​        构造其他的副本。<br>​        此操作需要恒定的时间，因为QString是隐式共享的。这使得从函数返回QString的速度非常快。如果共享实例被修改，它将被复制（写时复制），这需要线性时间。<br>另请参见运算符=（）。<strong>（缓式评估）</strong></p>
<p>10.</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString::QString(QString &amp;&amp;other) noexcept<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">Move-constructs a QString instance, making it point at the same object that other was pointing to.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        移动构造函数！</p>
<pre class="line-numbers language-none"><code class="language-none">QString::~QString() noexcept;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        Destroys the string: 析构字符串。</p>
<h2 id="基本API"><a href="#基本API" class="headerlink" title="基本API"></a>基本API</h2><pre class="line-numbers language-none"><code class="language-none">QString &amp;QString::append(const QString &amp;str)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">Appends the string str onto the end of this string.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        在字符串后面追加内容</p>
<p>Example:</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString x &#x3D; &quot;free&quot;;
QString y &#x3D; &quot;dom&quot;;

x.append(y);
&#x2F;&#x2F; x &#x3D;&#x3D; &quot;freedom&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">This is the same as using the insert() function:<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        也就是说，这个函数本质上等效于：</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">x.insert(x.size(), y);<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">The&#96; append()&#96; function is typically very fast (constant time), because QString preallocates extra space at the end of the string data so it can grow without reallocating the entire string each time.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        <strong>留心到QString会提前分配好空间</strong></p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString&amp; QString::append(QChar ch)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">This function overloads append().Appends the character ch to this string.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        通过重载<code>append</code>函数直接追加一个字符。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString &amp;QString::append(const QChar *str, qsizetype len)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">This function overloads append().
Appends len characters from the QChar array str to this string.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre><code>     我们通过简单的重载`append`函数来完成向内追加一个长度为`len`的QChar字符串！
</code></pre><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">[since 6.0] QString&amp; QString::append(QStringView v)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">This function overloads append().
Appends the given string view v to this string and returns the result.
This function was introduced in Qt 6.0.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>​        这个函数是通过一个叫QStringView的方式载入到字符串的末尾!</p>
<h3 id="Extensive-for-QChar-and-QStringView"><a href="#Extensive-for-QChar-and-QStringView" class="headerlink" title="Extensive for QChar and QStringView"></a>Extensive for QChar and QStringView</h3><h4 id="QChar是什么"><a href="#QChar是什么" class="headerlink" title="QChar是什么:"></a>QChar是什么:</h4><p>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/a8039974/article/details/104126186">https://blog.csdn.net/a8039974/article/details/104126186</a></p>
<p>​        在Qt中,我们封装了unicode字符:</p>
<p>​        在Qt中，QChar是Qt处理字符的基本类型,是对unicode字符的封装。QChar使用2个字节的内存，在其内部维护了一个unsigned short 类型的内存。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QChar();                   &#x2F;&#x2F; 构造一个空字符，即&#39;\0&#39;
QChar(char ch);            &#x2F;&#x2F; 由字符数据ch构造，char类型作为QChar的构造参数时，会被转换为unsigned short，继而可被QChar接管
QChar(uchar ch);          &#x2F;&#x2F; 由无符号字符数据ch构造
QChar(ushort code);       &#x2F;&#x2F; 由无符号短整形数据code构造，code是Unicode编码
QChar(short code);        &#x2F;&#x2F;由 短整形数据code构造，code是Unicode编码
QChar(uint code);         &#x2F;&#x2F; 由无符号整型数据code构造，code是Unicode编码
QChar(int code);          &#x2F;&#x2F; 由整型数据code构造，code是Unicode编码<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​        在Qt中，<strong>Unicode字符是没有任何标记或结构的16位实体</strong>。此类表示这样的实体。它是轻量级的，因此可以在任何地方使用。<strong>大多数编译器将其视为无符号空头</strong>。</p>
<p>​        <strong>QChar提供了完整的测试/分类功能，可以转换为其他格式，也可以转换为分解的Unicode格式，如果需要，还可以尝试比较和转换大小写。</strong></p>
<p>​        分类函数包括标准c++标头<cctype>(以前是<ctype.h>)中的函数，<strong>但是操作的是Unicode字符的全范围，而不仅仅是ASCII范围。</strong></p>
<p>​        如果字符是某种类型的字符，它们都返回true;否则返回false。</p>
<p>​        这些分类功能</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>functions</th>
<th>descriptions</th>
</tr>
</thead>
<tbody>
<tr>
<td>isNull()</td>
<td>(返回true,如果字符’ \ 0 ‘),</td>
</tr>
<tr>
<td>isPrint()</td>
<td>(如果是任何类型的可打印字符,包括空格),</td>
</tr>
<tr>
<td>isPunct()</td>
<td>(任何类型的标点),</td>
</tr>
<tr>
<td>isMark ()</td>
<td>(Unicode)、</td>
</tr>
<tr>
<td>isLetter()</td>
<td>(字母),</td>
</tr>
<tr>
<td>isNumber()</td>
<td>(任何形式的数字字符,而不仅仅是0 - 9),</td>
</tr>
<tr>
<td>isLetterOrNumber(), isDigit()</td>
<td>是不是字母或者是数字,或者是十进制数</td>
</tr>
</tbody>
</table>
</div>
<p>​        所有这些都是围绕category()的包装器，它返回每个字符的unicode定义的类别。其中一些还计算派生属性(例如isSpace()如果字符属于类别分隔符_*或来自Other_Control类别的异常代码点，则返回true)。</p>
<p>​        QChar还提供了direction()，它指示该字符的“自然”写入方向。joiningType()函数指示字符如何与它的邻居连接(主要用于阿拉伯语或叙利亚语)，最后是has()，它指示当字符以“非自然”的书写方向打印时，是否需要镜像字符。</p>
<p>​        通过使用decomposition()，可以将组合的Unicode字符(比如ring)转换成分解的Unicode(“a”后面跟着“ring above”)。</p>
<p>​        在Unicode中，比较是不可能的，大小写转换是非常困难的。Unicode覆盖了“整个”世界，也包括世界上的大多数情况和排序问题。操作符==()和好友将纯粹基于字符的数值Unicode值(代码点)进行比较，而toUpper()和toLower()将在字符具有定义良好的大写/小写等价时进行大小写更改。对于依赖于语言环境的比较，使用QString::localeAwareCompare()。</p>
<p>​        转换函数包括unicode()(转换为标量)、toLatin1()(转换为标量，但将所有非latin -1字符转换为0)、row()(提供unicode行)、cell()(提供unicode单元格)、digitValue()(提供任意数字字符的整数值)和许多构造函数。</p>
<p>​        QChar提供了构造函数和强制类型转换操作符，这使得转换传统的8位字符变得很容易。如果您定义了<strong>QT_NO_CAST_FROM_ASCII和QT_NO_CAST_TO_ASCII</strong>，就像QString文档中解释的那样，您将需要显式地调用fromLatin1()，或者使用QLatin1Char，从一个8位的字符构造一个QChar，并且您将需要调用toLatin1()来获取8位的值。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">#include &lt;QCoreApplication&gt;
#include &lt;QChar&gt;
#include &lt;QDebug&gt;
int main(int argc, char *argv[])
&#123;
    QCoreApplication a(argc, argv);

    char  ch1 &#x3D; &#39;h&#39;;
    QChar ch &#x3D; &#39;hh&#39;;
    qDebug(&quot;%x&quot;,ch);
    qDebug(&quot;%x&quot;,ch1);
    return a.exec();
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>输出结果：</p>
<pre class="line-numbers language-none"><code class="language-none">6868
68<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h4 id="QStringView"><a href="#QStringView" class="headerlink" title="QStringView"></a>QStringView</h4><h5 id="快速简介"><a href="#快速简介" class="headerlink" title="快速简介:"></a>快速简介:</h5><pre class="line-numbers language-none"><code class="language-none">The QStringView class provides a unified view on UTF-16 strings with a read-only subset of the [QString](https:&#x2F;&#x2F;doc.qt.io&#x2F;qt-5&#x2F;qstring.html) API. <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        QStringView类通过[QString]的只读子集提供了UTF-16字符串的统一视图.</p>
<h5 id="如何引入"><a href="#如何引入" class="headerlink" title="如何引入:"></a>如何引入:</h5><div class="table-container">
<table>
<thead>
<tr>
<th>Header:</th>
<th>#include <QStringView></th>
</tr>
</thead>
<tbody>
<tr>
<td>qmake:</td>
<td>QT += core</td>
</tr>
<tr>
<td>Since:</td>
<td>Qt 5.10</td>
</tr>
</tbody>
</table>
</div>
<h5 id="Public-Types"><a href="#Public-Types" class="headerlink" title="Public Types"></a>Public Types</h5><div class="table-container">
<table>
<thead>
<tr>
<th>typedef</th>
<th><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#const_iterator-typedef">const_iterator</a></strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#const_pointer-typedef">const_pointer</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#const_reference-typedef">const_reference</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#const_reverse_iterator-typedef">const_reverse_iterator</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#difference_type-typedef">difference_type</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#iterator-typedef">iterator</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#pointer-typedef">pointer</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#reference-typedef">reference</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#reverse_iterator-typedef">reverse_iterator</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#size_type-typedef">size_type</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#storage_type-typedef">storage_type</a></strong></td>
</tr>
<tr>
<td>typedef</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#value_type-typedef">value_type</a></strong></td>
</tr>
</tbody>
</table>
</div>
<h5 id="Public-Functions"><a href="#Public-Functions" class="headerlink" title="Public Functions"></a>Public Functions</h5><div class="table-container">
<table>
<thead>
<tr>
<th></th>
<th><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#QStringView-8">QStringView</a></strong>(const StdBasicString &amp;<em>str</em>)</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#QStringView-7">QStringView</a></strong>(const QStringRef &amp;<em>str</em>)</td>
</tr>
<tr>
<td></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#QStringView-6">QStringView</a></strong>(const QString &amp;<em>str</em>)</td>
</tr>
<tr>
<td></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#QStringView-5">QStringView</a></strong>(const Char <em>*str</em>)</td>
</tr>
<tr>
<td></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#QStringView-4">QStringView</a></strong>(const Char (&amp;)[N] <em>string</em> = N)</td>
</tr>
<tr>
<td></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#QStringView-3">QStringView</a></strong>(const Char <strong>first*, const Char </strong>last*)</td>
</tr>
<tr>
<td></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#QStringView-2">QStringView</a></strong>(const Char <em>*str</em>, qsizetype <em>len</em>)</td>
</tr>
<tr>
<td></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#QStringView-1">QStringView</a></strong>(<em>std::nullptr_t</em>)</td>
</tr>
<tr>
<td></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#QStringView">QStringView</a></strong>()</td>
</tr>
<tr>
<td>QString</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#arg">arg</a></strong>(Args &amp;&amp;… <em>args</em>) const</td>
</tr>
<tr>
<td>QChar</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#at">at</a></strong>(qsizetype <em>n</em>) const</td>
</tr>
<tr>
<td>QChar</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#back">back</a></strong>() const</td>
</tr>
<tr>
<td>QStringView::const_iterator</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#begin">begin</a></strong>() const</td>
</tr>
<tr>
<td>QStringView::const_iterator</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#cbegin">cbegin</a></strong>() const</td>
</tr>
<tr>
<td>QStringView::const_iterator</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#cend">cend</a></strong>() const</td>
</tr>
<tr>
<td>void</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#chop">chop</a></strong>(qsizetype <em>length</em>)</td>
</tr>
<tr>
<td>QStringView</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#chopped">chopped</a></strong>(qsizetype <em>length</em>) const</td>
</tr>
<tr>
<td>int</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#compare">compare</a></strong>(QStringView <em>str</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>int</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#compare-1">compare</a></strong>(QLatin1String <em>l1</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>int</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#compare-2">compare</a></strong>(QChar <em>ch</em>) const</td>
</tr>
<tr>
<td>int</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#compare-3">compare</a></strong>(QChar <em>ch</em>, Qt::CaseSensitivity <em>cs</em>) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#contains">contains</a></strong>(QChar <em>c</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#contains-1">contains</a></strong>(QStringView <em>str</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#contains-2">contains</a></strong>(QLatin1String <em>l1</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>qsizetype</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#count">count</a></strong>(QChar <em>ch</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>qsizetype</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#count-1">count</a></strong>(QStringView <em>str</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>QStringView::const_reverse_iterator</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#crbegin">crbegin</a></strong>() const</td>
</tr>
<tr>
<td>QStringView::const_reverse_iterator</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#crend">crend</a></strong>() const</td>
</tr>
<tr>
<td>QStringView::const_pointer</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#data">data</a></strong>() const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#empty">empty</a></strong>() const</td>
</tr>
<tr>
<td>QStringView::const_iterator</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#end">end</a></strong>() const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#endsWith">endsWith</a></strong>(QStringView <em>str</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#endsWith-1">endsWith</a></strong>(QLatin1String <em>l1</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#endsWith-2">endsWith</a></strong>(QChar <em>ch</em>) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#endsWith-3">endsWith</a></strong>(QChar <em>ch</em>, Qt::CaseSensitivity <em>cs</em>) const</td>
</tr>
<tr>
<td>QChar</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#first">first</a></strong>() const</td>
</tr>
<tr>
<td>QChar</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#front">front</a></strong>() const</td>
</tr>
<tr>
<td>qsizetype</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#indexOf">indexOf</a></strong>(QChar <em>c</em>, qsizetype <em>from</em> = 0, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>qsizetype</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#indexOf-1">indexOf</a></strong>(QStringView <em>str</em>, qsizetype <em>from</em> = 0, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>qsizetype</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#indexOf-2">indexOf</a></strong>(QLatin1String <em>l1</em>, qsizetype <em>from</em> = 0, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#isEmpty">isEmpty</a></strong>() const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#isNull">isNull</a></strong>() const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#isRightToLeft">isRightToLeft</a></strong>() const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#isValidUtf16">isValidUtf16</a></strong>() const</td>
</tr>
<tr>
<td>QChar</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#last">last</a></strong>() const</td>
</tr>
<tr>
<td>qsizetype</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#lastIndexOf">lastIndexOf</a></strong>(QChar <em>c</em>, qsizetype <em>from</em> = -1, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>qsizetype</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#lastIndexOf-1">lastIndexOf</a></strong>(QStringView <em>str</em>, qsizetype <em>from</em> = -1, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>qsizetype</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#lastIndexOf-2">lastIndexOf</a></strong>(QLatin1String <em>l1</em>, qsizetype <em>from</em> = -1, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>QStringView</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#left">left</a></strong>(qsizetype <em>length</em>) const</td>
</tr>
<tr>
<td>int</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#length">length</a></strong>() const</td>
</tr>
<tr>
<td>QStringView</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#mid">mid</a></strong>(qsizetype <em>start</em>) const</td>
</tr>
<tr>
<td>QStringView</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#mid-1">mid</a></strong>(qsizetype <em>start</em>, qsizetype <em>length</em>) const</td>
</tr>
<tr>
<td>QStringView::const_reverse_iterator</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#rbegin">rbegin</a></strong>() const</td>
</tr>
<tr>
<td>QStringView::const_reverse_iterator</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#rend">rend</a></strong>() const</td>
</tr>
<tr>
<td>QStringView</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#right">right</a></strong>(qsizetype <em>length</em>) const</td>
</tr>
<tr>
<td>qsizetype</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#size">size</a></strong>() const</td>
</tr>
<tr>
<td>QList<QStringView></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#split">split</a></strong>(QStringView <em>sep</em>, Qt::SplitBehavior <em>behavior</em> = Qt::KeepEmptyParts, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>QList<QStringView></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#split-1">split</a></strong>(QChar <em>sep</em>, Qt::SplitBehavior <em>behavior</em> = Qt::KeepEmptyParts, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>QList<QStringView></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#split-2">split</a></strong>(const QRegularExpression &amp;<em>sep</em>, Qt::SplitBehavior <em>behavior</em> = Qt::KeepEmptyParts) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#startsWith">startsWith</a></strong>(QStringView <em>str</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#startsWith-1">startsWith</a></strong>(QLatin1String <em>l1</em>, Qt::CaseSensitivity <em>cs</em> = Qt::CaseSensitive) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#startsWith-2">startsWith</a></strong>(QChar <em>ch</em>) const</td>
</tr>
<tr>
<td>bool</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#startsWith-3">startsWith</a></strong>(QChar <em>ch</em>, Qt::CaseSensitivity <em>cs</em>) const</td>
</tr>
<tr>
<td>double</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toDouble">toDouble</a></strong>(bool <em>*ok</em> = nullptr) const</td>
</tr>
<tr>
<td>float</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toFloat">toFloat</a></strong>(bool <em>*ok</em> = nullptr) const</td>
</tr>
<tr>
<td>int</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toInt">toInt</a></strong>(bool <em>*ok</em> = nullptr, int <em>base</em> = 10) const</td>
</tr>
<tr>
<td>QByteArray</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toLatin1">toLatin1</a></strong>() const</td>
</tr>
<tr>
<td>QByteArray</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toLocal8Bit">toLocal8Bit</a></strong>() const</td>
</tr>
<tr>
<td>long</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toLong">toLong</a></strong>(bool <em>*ok</em> = nullptr, int <em>base</em> = 10) const</td>
</tr>
<tr>
<td>qlonglong</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toLongLong">toLongLong</a></strong>(bool <em>*ok</em> = nullptr, int <em>base</em> = 10) const</td>
</tr>
<tr>
<td>short</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toShort">toShort</a></strong>(bool <em>*ok</em> = nullptr, int <em>base</em> = 10) const</td>
</tr>
<tr>
<td>QString</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toString">toString</a></strong>() const</td>
</tr>
<tr>
<td>uint</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toUInt">toUInt</a></strong>(bool <em>*ok</em> = nullptr, int <em>base</em> = 10) const</td>
</tr>
<tr>
<td>ulong</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toULong">toULong</a></strong>(bool <em>*ok</em> = nullptr, int <em>base</em> = 10) const</td>
</tr>
<tr>
<td>qulonglong</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toULongLong">toULongLong</a></strong>(bool <em>*ok</em> = nullptr, int <em>base</em> = 10) const</td>
</tr>
<tr>
<td>ushort</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toUShort">toUShort</a></strong>(bool <em>*ok</em> = nullptr, int <em>base</em> = 10) const</td>
</tr>
<tr>
<td>QVector<uint></td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toUcs4">toUcs4</a></strong>() const</td>
</tr>
<tr>
<td>QByteArray</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toUtf8">toUtf8</a></strong>() const</td>
</tr>
<tr>
<td>int</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toWCharArray">toWCharArray</a></strong>(wchar_t <em>*array</em>) const</td>
</tr>
<tr>
<td>QStringView</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#trimmed">trimmed</a></strong>() const</td>
</tr>
<tr>
<td>void</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#truncate">truncate</a></strong>(qsizetype <em>length</em>)</td>
</tr>
<tr>
<td>const QStringView::storage_type *</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#utf16">utf16</a></strong>() const</td>
</tr>
<tr>
<td>QChar</td>
<td><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#operator-5b-5d">operator[]</a></strong>(qsizetype <em>n</em>) const</td>
</tr>
</tbody>
</table>
</div>
<h5 id="Related-Non-Members-一些延申用到的API"><a href="#Related-Non-Members-一些延申用到的API" class="headerlink" title="Related Non-Members(一些延申用到的API)"></a>Related Non-Members(一些延申用到的API)</h5><div class="table-container">
<table>
<thead>
<tr>
<th>uint</th>
<th><strong><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#qHash">qHash</a></strong>(QStringView <em>key</em>, uint <em>seed</em> = 0)</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
</tr>
</tbody>
</table>
</div>
<h5 id="Detailed-Description-English"><a href="#Detailed-Description-English" class="headerlink" title="Detailed Description (English)"></a>Detailed Description (English)</h5><p>​        A QStringView references a contiguous portion of a UTF-16 string it does not own. It acts as an interface type to all kinds of UTF-16 string, without the need to construct a <code>QString</code> first.</p>
<p>​        The UTF-16 string may be represented as an array (or an array-compatible data-structure such as <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstring.html">QString</a>, std::basic_string, etc.) of <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qchar.html">QChar</a>, <code>ushort</code>, <code>char16_t</code> or (on platforms, such as Windows, where it is a 16-bit type) <code>wchar_t</code>.</p>
<p>​        QStringView is designed as an interface type; its main use-case is as a function parameter type. When QStringViews are used as automatic variables or data members, care must be taken to ensure that the referenced string data (for example, owned by a <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstring.html">QString</a>) outlives the QStringView on all code paths, lest the string view ends up referencing deleted data.</p>
<p>​        When used as an interface type, QStringView allows a single function to accept a wide variety of UTF-16 string data sources. One function accepting QStringView thus replaces three function overloads (taking <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstring.html">QString</a>, <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringref.html">QStringRef</a>, and <code>(const QChar*, int)</code>), while at the same time enabling even more string data sources to be passed to the function, such as <code>u&quot;Hello World&quot;</code>, a <code>char16_t</code> string literal.</p>
<p>​        QStringViews should be passed by value, not by reference-to-const:`</p>
<pre class="line-numbers language-none"><code class="language-none">void myfun1(QStringView sv);        &#x2F;&#x2F; preferred
void myfun2(const QStringView &amp;sv); &#x2F;&#x2F; compiles and works, but slower<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>​        If you want to give your users maximum freedom in what strings they can pass to your function, accompany the QStringView overload with overloads for</p>
<ul>
<li><p>QChar</p>
<p>: this overload can delegate to the QStringView version:</p>
<pre class="line-numbers language-none"><code class="language-none">void fun(QChar ch) &#123; fun(QStringView(&amp;ch, 1)); &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>even though, for technical reasons, QStringView cannot provide a <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qchar.html">QChar</a> constructor by itself.</p>
</li>
<li><p><em>QString</em>: if you store an unmodified copy of the string and thus would like to take advantage of <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstring.html">QString</a>‘s implicit sharing.</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlatin1string.html">QLatin1String</a>: if you can implement the function without converting the <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlatin1string.html">QLatin1String</a> to UTF-16 first; users expect a function overloaded on <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlatin1string.html">QLatin1String</a> to perform strictly less memory allocations than the semantically equivalent call of the QStringView version, involving construction of a <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstring.html">QString</a> from the <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlatin1string.html">QLatin1String</a>.</p>
</li>
</ul>
<p>​        QStringView can also be used as the return value of a function. If you call a function returning QStringView, take extra care to not keep the QStringView around longer than the function promises to keep the referenced string data alive. If in doubt, obtain a strong reference to the data by calling <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toString">toString</a>() to convert the QStringView into a <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstring.html">QString</a>.</p>
<p>​        QStringView is a <em>Literal Type</em>, but since it stores data as <code>char16_t</code>, iteration is not <code>constexpr</code> (casts from <code>const char16_t*</code> to <code>const QChar*</code>, which is not allowed in <code>constexpr</code> functions). You can use an indexed loop and/or <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#utf16">utf16</a>() in <code>constexpr</code> contexts instead.</p>
<p>​        <strong>Note:</strong> We strongly discourage the use of <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlist.html">QList</a><QStringView>, because <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlist.html">QList</a> is a very inefficient container for QStringViews (it would heap-allocate every element). Use <a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qvector.html">QVector</a> (or std::vector) to hold QStringViews instead.</p>
<h5 id="详解"><a href="#详解" class="headerlink" title="详解"></a>详解</h5><p>​        QStringView引用了它不拥有的UTF-16字符串的连续部分。它充当所有类型的UTF-16字符串的接口类型，而不需要构造<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstring.html">QString</a></p>
<p>​        UTF-16字符串可以表示为数组（或数组兼容的数据结构，如QString），std::basic_string等）、“ushort”、“char16_t”或（在Windows等平台上，它是16位类型）“wchar_t”。</p>
<p>​        QStringView被设计为一种接口类型；它的主要用例是作为函数参数类型。当QStringViews用作自动变量或数据成员时，必须注意确保引用的字符串数据（例如，由<code>QString</code>拥有)在所有代码路径上都比QStringView过期，以免字符串视图最终引用已删除的数据。</p>
<p>​        当用作接口类型时，QStringView允许单个函数接受各种各样的UTF-16字符串数据源。因此，一个接受QStringView的函数替换了三个函数重载（取<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstring.html">QString</a>，<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringref.html">QStringRef</a>，和<code>（const QChar*，int）</code>），同时使更多的字符串数据源能够传递给函数，例如<code>u“Hello World”</code>，<code>char16_t</code>字符串文字。</p>
<p>​        QStringViews应通过值传递，而不是通过引用const:</p>
<p>​        为啥看着:<a target="_blank" rel="noopener" href="https://www.thinbug.com/q/52364784">应用错误收集 (thinbug.com)</a></p>
<p>​        他们在文档中说应该按值传递，因为<code>QStringView</code>本身并不是字符串，它只是一种接口（嗯，这就是为什么它被称为“视图”的原因），它为您提供了读取对引用字符串的访问。因此，<code>QStringView</code>的大小很可能类似于参考的大小。根据QT源代码，<code>QStringView</code>只有2个字段：</p>
<pre class="line-numbers language-none"><code class="language-none">private:
    qsizetype m_size;
    const storage_type *m_data;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>​        在装有gcc 6.3的Debian9 x64机器上，此类的大小为8（指针）+ 4（整数）= 12个字节。在我的情况下，参考大小是8个字节，因此，在函数调用上的数据复制方面只有很小的差异。请记住，在不同的计算机上引用可能以另一种方式实现，并且可能更大。</p>
<p>​        虽然我同意这种接口应该通过副本传递（而不是const ref），但我不明白为什么他们声称通过const ref传递它实际上更慢（两次对变量进行解引用实际上并没有在现代应用中的任何可观察到的效果）。我真的很想看看支持该说法的测试。</p>
<hr>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">void myfun1（QStringView sv）；&#x2F;&#x2F;首选
void myfun2（const QStringView&amp;sv）；&#x2F;&#x2F;编译并工作，但速度较慢<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>​        如果您想让用户在可以传递给函数的字符串方面有最大的自由度，请在QStringView重载中添加:</p>
<p>1.-QChar：此重载可以委托给QStringView版本：</p>
<pre class="line-numbers language-none"><code class="language-none">void fun（QChar ch）｛fun（QStringView（.ch，1））；｝
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        尽管由于技术原因，QStringView无法提供<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qchar.html">QChar</a>构造函数本身。</p>
<p>2.-<em>QString</em>：如果您存储未修改的字符串副本，因此希望利用<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstring.html">QString</a>的隐含共享。</p>
<ol>
<li>-<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlatin1string.html">QLatin1String</a>：如果您可以在不转换[QLatin1String]的情况下实现该函数(<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlatin1string.html)首先到UTF-16；用户期望函数在[QLatin1String]上重载(https://doc.qt.io/qt-5/qlatin1string.html)执行的内存分配严格少于QStringView版本的语义等效调用，涉及[QString]的构造(https://doc.qt.io/qt-5/qstring.html)从[QLatin1String](https://doc.qt.io/qt-5/qlatin1string.html)。">https://doc.qt.io/qt-5/qlatin1string.html)首先到UTF-16；用户期望函数在[QLatin1String]上重载(https://doc.qt.io/qt-5/qlatin1string.html)执行的内存分配严格少于QStringView版本的语义等效调用，涉及[QString]的构造(https://doc.qt.io/qt-5/qstring.html)从[QLatin1String](https://doc.qt.io/qt-5/qlatin1string.html)。</a></li>
</ol>
<p>​        QStringView也可以用作函数的返回值。如果调用返回QStringView的函数，请格外小心，<strong>不要使QStringView保持的时间超过该函数承诺保持引用字符串数据有效的时间。如果有疑问，</strong>请通过调用[toString]获得对数据的强引用(<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#toString)（）将QStringView转换为[QString](https://doc.qt.io/qt-5/qstring.html)。">https://doc.qt.io/qt-5/qstringview.html#toString)（）将QStringView转换为[QString](https://doc.qt.io/qt-5/qstring.html)。</a></p>
<p>​        QStringView是一个<em>Literal Type</em>，但由于它将数据存储为“char16_t”，因此迭代不是“constexpr”（从“const char16_t<em>”强制转换为“const QChar</em>”，这在“constexpr”函数中是不允许的）。您可以使用索引循环和/或<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qstringview.html#utf16">utf16</a>（）在<code>constexpr</code>上下文中。</p>
<p>​        <strong>注：</strong>我们强烈不建议的使用<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlist.html">QList</a><QStringView>，因为<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qlist.html">QList</a>对于QStringViews来说是一个效率非常低的容器（它会对每个元素进行堆分配）。使用<a target="_blank" rel="noopener" href="https://doc.qt.io/qt-5/qvector.html">QVector</a>（或std:：vector）来保存QStringViews。</p>
<h3 id="继续"><a href="#继续" class="headerlink" title="继续"></a>继续</h3><pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString&amp; QString::append(QLatin1StringView str)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">This function overloads append().
Appends the Latin-1 string viewed by *str* to this string.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>​        跟上面的类似:</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">[since 6.5]
QString&amp;QString::append(QUtf8StringView str)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">This function overloads append().

Appends the UTF-8 string view *str* to this string.

This function was introduced in Qt 6.5.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>​        还是类似的!</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString&amp; QString::append(const char str)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<pre class="line-numbers language-none"><code class="language-none">This function overloads append().
Appends the string *str* to this string. The given const char pointer is converted to Unicode using the fromUtf8 function.
You can disable this function by defining QT_NO_CAST_FROM_ASCII, when you compile your applications. This can be useful if you want to ensure that all user-visible strings go through QObject::tr(), for example.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>​        此函数重载append（）。</p>
<p>​        将字符串<em>str</em>追加到此字符串。给定的const-char指针使用fromUtf8函数转换为Unicode。</p>
<p>​        在编译应用程序时，可以通过定义QT_NO_CAST_FROM_ASII来禁用此功能。例如，如果您想确保所有用户可见的字符串都通过QObject::tr（），这可能很有用。</p>
<pre class="line-numbers language-C++" data-language="C++"><code class="language-C++">QString&amp;QString::append(const QByteArray&amp; ba)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​        This function overloads append().</p>
<pre class="line-numbers language-none"><code class="language-none">Appends the byte array *ba* to this string. The given byte array is converted to Unicode using the fromUtf8() function.
You can disable this function by defining QT_NO_CAST_FROM_ASCII when you compile your applications. This can be useful if you want to ensure that all user-visible strings go through QObject::tr(), for example.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>​        将字节数组<em>ba</em>追加到此字符串。给定的字节数组使用fromUtf8（）函数转换为Unicode。</p>
<p>​        您可以在编译应用程序时通过定义QT_NO_CAST_FROM_ASII来禁用此功能。例如，如果您想确保所有用户可见的字符串都通过QObject:：tr（），这可能很有用。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a target="_blank" rel="noopener" href="https://github.com/Charliechen114514">Charlie Chen</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://charliechen114514.github.io/2023/06/07/DeepLearningQt-ReadingDocuments1/">http://charliechen114514.github.io/2023/06/07/DeepLearningQt-ReadingDocuments1/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">全体目光向我看齐，我宣布个事！是我Charliechen写的这篇文章！(</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/C-C/">C/C++</a><a class="post-meta__tags" href="/tags/Qt/">Qt</a></div><div class="post_share"><div class="social-share" data-image="/img/passagepage.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/07/01/LearnCPP-English/" title="LearnCPP (English)"><img class="cover" src="/img/passagepage.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">LearnCPP (English)</div></div></a></div><div class="next-post pull-right"><a href="/2023/06/06/ModernCPP-SmartPointer/" title="ModernCPP-SmartPointer"><img class="cover" src="/img/passagepage.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">ModernCPP-SmartPointer</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/09/05/Deep-Qt-Learn-1/" title="Deep Qt Learn-1"><img class="cover" src="/img/passagepage.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-09-05</div><div class="title">Deep Qt Learn-1</div></div></a></div><div><a href="/2023/06/06/Learn-Qt-I/" title="Learn_Qt-I"><img class="cover" src="/img/passagepage.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-06</div><div class="title">Learn_Qt-I</div></div></a></div><div><a href="/2024/01/19/OCR%E5%BC%80%E5%8F%91%E5%BA%93%E6%97%A5%E5%BF%97%E8%AE%B0%E5%BD%95/" title="OCR开发库日志记录"><img class="cover" src="/img/passagepage.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-19</div><div class="title">OCR开发库日志记录</div></div></a></div><div><a href="/2024/07/27/%E6%B7%B1%E5%85%A5%E7%A0%94%E7%A9%B6Qt-Meta-Object-System/" title="深入研究Qt Meta - Object System"><img class="cover" src="/img/passagepage.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-07-27</div><div class="title">深入研究Qt Meta - Object System</div></div></a></div><div><a href="/2024/01/09/2024%E5%AF%92%E5%81%87%E6%95%B4%E6%B4%BB-C-Cppb%E9%AB%98%E7%BA%A7%E7%BC%96%E8%AF%91%E6%8A%80%E6%9C%AF/" title="2024寒假整活_C_Cppb高级编译技术"><img class="cover" src="/img/passagepage.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-01-09</div><div class="title">2024寒假整活_C_Cppb高级编译技术</div></div></a></div><div><a href="/2023/06/06/Algorithm-RecursionSpecial/" title="Algorithm_RecursionSpecial"><img class="cover" src="/img/passagepage.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-06</div><div class="title">Algorithm_RecursionSpecial</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/webicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">Charlie Chen</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">75</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">32</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/Charliechen114514"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/Charliechen114514" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="http://wpa.qq.com/msgrd?v=3&amp;uin=725610365&amp;site=qq&amp;menu=yes" target="_blank" title="QQ"><i class="fab fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">上传了一些在CSDN和博客园写的博客(喜),甚至更换了背景图(喜x2)</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Qt%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3-QString"><span class="toc-number">1.</span> <span class="toc-text">Qt深入理解 QString</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.</span> <span class="toc-text">构造函数</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E3%80%90QT%E3%80%91QLatin1String%E7%B1%BB%E7%9A%84%E8%AF%B4%E6%98%8E-%E8%A1%A5%E5%85%85"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">【QT】QLatin1String类的说明(补充)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%ACAPI"><span class="toc-number">1.2.</span> <span class="toc-text">基本API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Extensive-for-QChar-and-QStringView"><span class="toc-number">1.2.1.</span> <span class="toc-text">Extensive for QChar and QStringView</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#QChar%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">QChar是什么:</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#QStringView"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">QStringView</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BF%AB%E9%80%9F%E7%AE%80%E4%BB%8B"><span class="toc-number">1.2.1.2.1.</span> <span class="toc-text">快速简介:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5"><span class="toc-number">1.2.1.2.2.</span> <span class="toc-text">如何引入:</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Public-Types"><span class="toc-number">1.2.1.2.3.</span> <span class="toc-text">Public Types</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Public-Functions"><span class="toc-number">1.2.1.2.4.</span> <span class="toc-text">Public Functions</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Related-Non-Members-%E4%B8%80%E4%BA%9B%E5%BB%B6%E7%94%B3%E7%94%A8%E5%88%B0%E7%9A%84API"><span class="toc-number">1.2.1.2.5.</span> <span class="toc-text">Related Non-Members(一些延申用到的API)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Detailed-Description-English"><span class="toc-number">1.2.1.2.6.</span> <span class="toc-text">Detailed Description (English)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.2.1.2.7.</span> <span class="toc-text">详解</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%A7%E7%BB%AD"><span class="toc-number">1.2.2.</span> <span class="toc-text">继续</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/10/09/CMake%E6%95%99%E7%A8%8B%E8%B7%9F%E5%81%9AI/" title="CMake教程跟做I"><img src="/img/passagepage.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CMake教程跟做I"/></a><div class="content"><a class="title" href="/2024/10/09/CMake%E6%95%99%E7%A8%8B%E8%B7%9F%E5%81%9AI/" title="CMake教程跟做I">CMake教程跟做I</a><time datetime="2024-10-09T03:24:34.000Z" title="发表于 2024-10-09 11:24:34">2024-10-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/26/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF1/" title="树莓派学习之路1"><img src="/img/passagepage.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="树莓派学习之路1"/></a><div class="content"><a class="title" href="/2024/09/26/%E6%A0%91%E8%8E%93%E6%B4%BE%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF1/" title="树莓派学习之路1">树莓派学习之路1</a><time datetime="2024-09-26T03:55:47.000Z" title="发表于 2024-09-26 11:55:47">2024-09-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/09/26/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%B0%8F%E8%AE%B0F1/" title="设计模式小记F1"><img src="/img/passagepage.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="设计模式小记F1"/></a><div class="content"><a class="title" href="/2024/09/26/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E5%B0%8F%E8%AE%B0F1/" title="设计模式小记F1">设计模式小记F1</a><time datetime="2024-09-26T03:55:35.000Z" title="发表于 2024-09-26 11:55:35">2024-09-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/30/Linux%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/" title="Linux学习之路"><img src="/img/passagepage.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux学习之路"/></a><div class="content"><a class="title" href="/2024/07/30/Linux%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/" title="Linux学习之路">Linux学习之路</a><time datetime="2024-07-30T02:02:02.000Z" title="发表于 2024-07-30 10:02:02">2024-07-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/07/30/Linux-Debug%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/" title="Linux Debug学习之路"><img src="/img/passagepage.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux Debug学习之路"/></a><div class="content"><a class="title" href="/2024/07/30/Linux-Debug%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/" title="Linux Debug学习之路">Linux Debug学习之路</a><time datetime="2024-07-30T01:10:54.000Z" title="发表于 2024-07-30 09:10:54">2024-07-30</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By Charlie Chen</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>if (!window.MathJax) {
  window.MathJax = {
    tex: {
      inlineMath: [ ['$','$'], ["\\(","\\)"]],
      tags: 'ams'
    },
    chtml: {
      scale: 1.1
    },
    options: {
      renderActions: {
        findScript: [10, doc => {
          for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
            const display = !!node.type.match(/; *mode=display/)
            const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display)
            const text = document.createTextNode('')
            node.parentNode.replaceChild(text, node)
            math.start = {node: text, delim: '', n: 0}
            math.end = {node: text, delim: '', n: 0}
            doc.math.push(math)
          }
        }, ''],
        insertScript: [200, () => {
          document.querySelectorAll('mjx-container').forEach(node => {
            if (node.hasAttribute('display')) {
              btf.wrap(node, 'div', { class: 'mathjax-overflow' })
            } else {
              btf.wrap(node, 'span', { class: 'mathjax-overflow' })
            }
          });
        }, '', false]
      }
    }
  }
  
  const script = document.createElement('script')
  script.src = 'https://cdn.jsdelivr.net/npm/mathjax/es5/tex-mml-chtml.min.js'
  script.id = 'MathJax-script'
  script.async = true
  document.head.appendChild(script)
} else {
  MathJax.startup.document.state(0)
  MathJax.texReset()
  MathJax.typeset()
}</script><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/katex/dist/katex.min.css"><script src="https://cdn.jsdelivr.net/npm/katex/dist/contrib/copy-tex.min.js"></script><script>(() => {
  document.querySelectorAll('#article-container span.katex-display').forEach(item => {
    btf.wrap(item, 'div', { class: 'katex-wrap'})
  })
})()</script></div><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="哼啊啊啊啊啊啊啊啊啊啊啊啊,人民万岁！,兄啊，别点力" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>